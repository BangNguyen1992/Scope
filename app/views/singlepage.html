<main class="container-fluid">

    <!--Image-->
    <div class="container" ng-if="isImage">
        <div class="row">
            <div id="detail-img-container" class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
                <img id="detail-img" class="" ng-src="http://util.mw.metropolia.fi/uploads/{{path}}" />

                <a class="btn btn-outlined-full btn-success" href="http://util.mw.metropolia.fi/uploads/{{path}}" download>Download</a>
                <button id="like-button" class="btn btn-outlined-full btn-success" ng-click="likeItem()" ng-controller="CommentController">&nbsp;</button>
                <p id="size"></p>
            </div>
        </div>
    </div>

    <!--Video-->
    <div class="container">
        <div class="row" ng-if="isVideo">
            <div class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
                <video controls width="100%" ng-src="{{path}}">
                </video>
                <a class="btn btn-outlined-full btn-success" href="http://util.mw.metropolia.fi/uploads/{{path}}" download>download</a>
                <button id="like-button" class="btn btn-outlined-full btn-success" ng-click="likeItem()" ng-controller="CommentController">&nbsp;</button>
            </div>
        </div>
    </div>

    <!--Audio-->
    <div class="row" ng-if="isAudio">
        <div class="container-fluid">
            <div id="detail-audio-container">
                <ng-wavesurfer url="{{path}}" wave-color="#20c1a9" progress-color="#1ea893" height="115"></ng-wavesurfer>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div id="surf-controls" class="col-xs-12">
                    <button class="btn btn-outlined-full btn-success" ng-click="wavesurfer.playPause()">
                        <span id="play" ng-show="paused">
                            <i class="glyphicon glyphicon-play"></i>Play
                        </span>
                        <span id="pause" ng-show="!paused">
                            <i class="glyphicon glyphicon-pause"></i>Pause
                        </span>
                    </button>
                    <a class="btn btn-outlined-full btn-success" href="http://util.mw.metropolia.fi/uploads/{{path}}" download>download</a>
                    <button id="like-button" class="btn btn-outlined-full btn-success" ng-click="likeItem()" ng-controller="CommentController">&nbsp;</button>
                </div>
            </div>
        </div>
    </div>

    <!-- INFO -->

    <div class="container">
        <div class="row">

            <div id="info" class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
                <h1> {{title}}</h1>
                <p> {{description}} </p>
                <table class="table">
                    <tr>
                        <td>User</td>
                        <td>{{ user }}</td>
                    </tr>
                    <tr>
                        <td>Time</td>
                        <td>{{ time }}</td>
                    </tr>
                    <tr>
                        <td>Type</td>
                        <td>{{ type }}</td>
                    </tr>
                </table>

            </div>

            <!-- COMMENTS -->
            <div id="container-comment" class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8" ng-controller="CommentController">
                <div class="comment col-xs-12" ng-repeat="comment in itemComments">
                    <h4><a ng-href="#profile/{{ comment.userId }}">{{ comment.username }}</a></h4>
                    <p>{{ comment.comment }}</p>
                    <h5>{{ comment.time }}</h5>
                </div>
                <div class="col-xs-12 comment-form-container">
                    <form id="comment-form" class="form-inline" ng-submit="postComment()" ng-controller="CommentController">
                        <div class="comment-field input-group">
                            <input type="text" class="form-control" name="comment" ng-model="comment">
                            <span class="input-group-btn">
                        <button class="btn btn-outlined btn-success" type="submit" name="submit" value="Add Comment">Comment</button>
                    </span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

</main>