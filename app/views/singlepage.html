<main class="container-fluid">

    <!--Image-->
    <div class="container" ng-if="isImage">
        <div class="row">
            <div id="detail-img-container" class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
                <h1> {{title}}</h1>
                <p> {{description}} </p>
                <img id="detail-img" class="" ng-src="http://util.mw.metropolia.fi/uploads/{{path}}" />

                <a class="btn btn-outlined-full btn-success" href="http://util.mw.metropolia.fi/uploads/{{path}}" download>Download</a>
                <button id="like-button" class="btn btn-outlined-full btn-success" ng-click="likeItem()" ng-controller="CommentController">&nbsp;</button>
                <p id="size"></p>
            </div>
        </div>
    </div>

    <!--Video-->
    <div class="container">
        <div class="row" ng-if="isVideo">
            <div class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
                <h1> {{title}}</h1>
                <p> {{description}} </p>
                <video controls width="100%" ng-src="{{path}}">
                </video>
                <a class="btn btn-outlined-full btn-success" href="http://util.mw.metropolia.fi/uploads/{{path}}" download>download</a>
                <button id="like-button" class="btn btn-outlined-full btn-success" ng-click="likeItem()" ng-controller="CommentController">&nbsp;</button>
            </div>
        </div>
    </div>

    <!--Audio-->
    <div class="row" ng-if="isAudio">
        <div class="container-fluid">
            <div id="detail-audio-container">
                <h1 style="text-align: center;"> {{title}}</h1>
                <p style="text-align: center;"> {{description}} </p>
                <ng-wavesurfer url="{{path}}" wave-color="#20c1a9" progress-color="#1ea893" height="115"></ng-wavesurfer>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div id="surf-controls" class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
                    <button class="btn btn-outlined-full btn-success" ng-click="wavesurfer.playPause()">
                        <span id="play" ng-show="paused">
                            <i class="glyphicon glyphicon-play"></i>Play
                        </span>
                        <span id="pause" ng-show="!paused">
                            <i class="glyphicon glyphicon-pause"></i>Pause
                        </span>
                    </button>
                    <a class="btn btn-outlined-full btn-success" href="http://util.mw.metropolia.fi/uploads/{{path}}" download>download</a>
                    <button id="like-button" class="btn btn-outlined-full btn-success" ng-click="likeItem()" ng-controller="CommentController">&nbsp;</button>
                </div>
            </div>
        </div>
    </div>

    <!-- INFO -->

    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
                <br>
                <!-- Twitter -->
                <script language="javascript">
                    function twitterShareCurrentPage() {
            window.open("http://twitter.com/home?status=" + escape(window.location.href) + "&t=" + document.title, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
            return false;
        }
                </script>
                <a href="javascript:twitterShareCurrentPage()" title="Share on Twitter" target="_blank" class="btn btn-twitter"><i class="fa fa-twitter"></i> Twitter</a>
                <!-- Facebook -->
                <script language="javascript">
                    function fbShareCurrentPage() {
            window.open("https://www.facebook.com/sharer/sharer.php?u=" + escape(window.location.href) + "&t=" + document.title, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
            return false;
        }
                </script>
                <a href="javascript:fbShareCurrentPage()" title="Share on Facebook" target="_blank" class="btn btn-facebook"><i class="fa fa-facebook"></i> Facebook</a>
                <!-- Google+ -->
                <script language="javascript">
                    function googleShareCurrentPage() {
            window.open("https://plus.google.com/share?url=" + escape(window.location.href) + "&t=" + document.title, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
            return false;
        }
                </script>
                <a href="javascript:googleShareCurrentPage()" title="Share on Google+" target="_blank" class="btn btn-googleplus"><i class="fa fa-google-plus"></i> Google+</a>
                <!-- StumbleUpon -->
                <script language="javascript">
                    function stumbleUponShareCurrentPage() {
            window.open("http://www.stumbleupon.com/submit?url=" + escape(window.location.href) + "&t=" + document.title, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
            return false;
        }
                </script>
                <a href="javascript:stumbleUponShareCurrentPage()" title="Share on StumbleUpon" target="_blank" data-placement="top" class="btn btn-stumbleupon"><i class="fa fa-stumbleupon"></i> Stumbleupon</a>
                <!-- LinkedIn -->
                <script language="javascript">
                    function linkedinShareCurrentPage() {
            window.open("http://www.linkedin.com/shareArticle?mini=true&url=&title=&summary=" + escape(window.location.href) + "&t=" + document.title, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
            return false;
        }
                </script>
                <a href="javascript:linkedinShareCurrentPage()" title="Share on LinkedIn" target="_blank" class="btn btn-linkedin"><i class="fa fa-linkedin"></i> LinkedIn</a>
            </div>
            <div id="info" class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
                <table class="table">
                    <tr>
                        <td>User</td>
                        <td>{{ user }}</td>
                    </tr>
                    <tr>
                        <td>Time</td>
                        <td>{{ time }}</td>
                    </tr>
                    <tr>
                        <td>Type</td>
                        <td>{{ type }}</td>
                    </tr>
                </table>

            </div>

            <!-- COMMENTS -->
            <div id="container-comment" class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8" ng-controller="CommentController">
                <div class="comment col-xs-12" ng-repeat="comment in itemComments">
                    <h4><a ng-href="#profile/{{ comment.userId }}">{{ comment.username }}</a></h4>
                    <p>{{ comment.comment }}</p>
                    <h5>{{ comment.time }}</h5>
                </div>
                <div class="col-xs-12 comment-form-container">
                    <form id="comment-form" class="form-inline" ng-submit="postComment()" ng-controller="CommentController">
                        <div class="comment-field input-group">
                            <input type="text" class="form-control" name="comment" ng-model="comment">
                            <span class="input-group-btn">
                        <button class="btn btn-outlined btn-success" type="submit" name="submit" value="Add Comment">Comment</button>
                    </span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

</main>